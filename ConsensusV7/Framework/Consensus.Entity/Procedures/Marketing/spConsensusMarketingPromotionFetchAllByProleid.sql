if not exists (select object_id from sys.objects where type = 'P' and name = 'spConsensusMarketingPromotionFetchAllByProleid')
  exec ('create procedure dbo.spConsensusMarketingPromotionFetchAllByProleid as select 1 as temp')
go
alter procedure dbo.spConsensusMarketingPromotionFetchAllByProleid(@PA_PM_PROLE_ID varchar(11) = null output) as 
begin
  select 
    PM_ID,
    PM_CMP_ID,
    PM_NAME,
    PM_START_DATE,
    PM_CHANNEL,
    PM_TEXT_ID,
    PM_DM_NUMBER,
    PM_REPLIES,
    PM_ORDERS,
    PM_ORDER_VAL,
    PM_BUDGET_COST,
    PM_ACTUAL_COST,
    PM_UPDATED,
    PM_CURRENT,
    PM_ADD_DATE,
    PM_ADD_BY,
    PM_MOD_DATE,
    PM_MOD_BY,
    PM_MOD_BY_SYS,
    PM_LOCK,
    PM_ORDER_VALUE_BC,
    PM_BUDGET_COST_BC,
    PM_ACTUAL_COST_BC,
    PM_CURRENCY_TYPE,
    PM_MEDIA_NAME,
    PM_SCHEME_ID,
    PM_RCV_DATE,
    PM_RCV_FROM,
    PM_TELESALES,
    PM_BOOKING,
    PM_BOOK_VALUE,
    PM_OPP_TOT,
    PM_QUOTES,
    PM_QUO_VALUE,
    PM_SALES,
    PM_SALE_VALUE,
    PM_USERNUM_1,
    PM_USERNUM_2,
    PM_CODE,
    PM_PACK_ID,
    PM_OUT_DATE,
    PM_FOOTER,
    PM_UNSUBSCRIBE,
    PM_HEADER,
    PM_BODY,
    PM_APPROVE,
    PM_REPLY,
    PM_TIME,
    PM_E_STATUS,
    PM_JOB_TITLE,
    PM_TYPE,
    PM_E_TYPE,
    PM_PROLE_ID,
    PM_APP_PROLE_ID,
    PM_RUN_TIME,
    PM_FINISH_TIME,
    PM_GOOD_MAIL,
    PM_BAD_MAIL,
    PM_SMTP_HOST,
    PM_EMAIL_DESC,
    PM_ACTUAL_VAR_COST,
    PM_ACTUAL_FIX_COST,
    PM_BUDGET_VAR_COST,
    PM_BUDGET_FIX_COST,
    PM_TARGET_OPP,
    PM_TARGET_REPLIES,
    PM_TARGET_OPP_VAL,
    PM_TARGET_BOOK_VAL,
    PM_TARGET_COMPLAINTS,
    PM_TARGET_INFO_REQ,
    PM_TARGET_HELPCALLS,
    PM_TARGET_MEMBERSHIPS,
    PM_TARGET_MEMBERSHIPS_VAL,
    PM_TARGET_SUBSCRIPTIONS,
    PM_TARGET_SUBSCRIPTIONS_VAL,
    PM_ACTUAL_COMPLAINTS,
    PM_ACTUAL_INFO_REQ,
    PM_ACTUAL_HELPCALLS,
    PM_ACTUAL_MEMBERSHIPS,
    PM_ACTUAL_MEMBERSHIPS_VAL,
    PM_ACTUAL_SUBSCRIPTIONS,
    PM_ACTUAL_SUBSCRIPTIONS_VAL,
    PM_WEB,
    PM_EMAIL_CAMPAIGN,
    PM_CAMPAIGN_TYPE,
    PM_SEND_CONTACTS,
    PM_CONTACTS_SENT,
    PM_EMAILS_SENT,
    PM_EMAILS_OPENED,
    PM_LINKS_CLICKED,
    PM_LZ_CLICKED,
    PM_SURVEYS_COMPLETED,
    PM_GLOBAL_UNSUBSCRIBES,
    PM_LIST_UNSUBSCRIBES,
    PM_DOCS_DOWNLOADS,
    PM_BOUNCE_BACKS,
    PM_EMAILS_SENT_TARGET,
    PM_EMAILS_OPENED_TARGET,
    PM_LINKS_CLICKED_TARGET,
    PM_LZ_CLICKED_TARGET,
    PM_SURVEYS_COMPLETED_TARGET,
    PM_GLOBAL_UNSUBSCRIBES_TARGET,
    PM_LIST_UNSUBSCRIBES_TARGET,
    PM_DOCS_DOWNLOADS_TARGET,
    PM_BOUNCE_BACKS_TARGET,
    PM_QCODE,
    PM_FQCODE,
    PM_FOLLOW_ON_PM_ID
  from dbo.Promotion
  where PM_PROLE_ID = @PA_PM_PROLE_ID
end
go
