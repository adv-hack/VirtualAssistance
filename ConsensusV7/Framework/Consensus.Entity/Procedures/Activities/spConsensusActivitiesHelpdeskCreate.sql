if not exists (select object_id from sys.objects where type = 'P' and name = 'spConsensusActivitiesHelpdeskCreate')
  exec ('create procedure dbo.spConsensusActivitiesHelpdeskCreate as select 1 as temp')
go
alter procedure dbo.spConsensusActivitiesHelpdeskCreate(@PA_HD_ID varchar(11) = null output, @PA_HD_LOCK varchar(11) = null output, @PA_HD_ORG_ID varchar(11) = null output, @PA_HD_ORG_NAME nvarchar(240) = null output, @PA_HD_PROLE_ID varchar(11) = null output, @PA_HD_PN_NAME varchar(45) = null output, @PA_HD_SERIAL_NO varchar(40) = null output, @PA_HD_IN_ID varchar(11) = null output, @PA_HD_PROD_CODE varchar(20) = null output, @PA_HD_PROD_ID varchar(11) = null output, @PA_HD_WARR_DATE datetime = null output, @PA_HD_CONTR_REF varchar(20) = null output, @PA_HD_CONT_TYPE varchar(10) = null output, @PA_HD_CONT_DATE datetime = null output, @PA_HD_GIVEN_TO varchar(40) = null output, @PA_HD_GIVEN_TO_ID varchar(11) = null output, @PA_HD_FIXED_DATE datetime = null output, @PA_HD_FIXED_TIME float = null output, @PA_HD_STATUS varchar(20) = null output, @PA_HD_DETAILS_ID varchar(11) = null output, @PA_HD_FIX_ID varchar(11) = null output, @PA_HD_CATEGORY varchar(20) = null output, @PA_HD_FIX_CAT varchar(20) = null output, @PA_HD_CALL_DATE datetime = null output, @PA_HD_CALL_TIME datetime = null output, @PA_HD_CALLER_PHONE varchar(25) = null output, @PA_HD_FAULT_TYPE varchar(15) = null output, @PA_HD_PROD_NAME nvarchar(250) = null output, @PA_HD_SEVERITY varchar(1) = null output, @PA_HD_PROJ_REF varchar(25) = null output, @PA_HD_PROJ_ID varchar(11) = null output, @PA_HD_ACT_ID varchar(11) = null output, @PA_HD_HISTORY_TXT varchar(max) = null output, @PA_HD_TITLE varchar(255) = null output, @PA_HD_CUST_REF varchar(100) = null output, @PA_HD_CUST_ACPT varchar(40) = null output, @PA_HD_RPT_DATE datetime = null output, @PA_HD_TRG_RSP_DATE datetime = null output, @PA_HD_ACT_RSP_DATE datetime = null output, @PA_HD_TRG_TPFIX_D datetime = null output, @PA_HD_ACT_TPFIX_D datetime = null output, @PA_HD_TRG_ACTFIX_D datetime = null output, @PA_HD_SUC_ID varchar(11) = null output, @PA_HD_ACC_DATE datetime = null output, @PA_HD_RESOLVED_VER varchar(30) = null output, @PA_HD_EST_TIME float = null output, @PA_HD_TYPE tinyint = null output, @PA_HD_WIP_ID varchar(11) = null output, @PA_HD_RES_DATE datetime = null output, @PA_HD_SELCO_SP_ID varchar(11) = null output, @PA_HD_GROUP varchar(50) = null output, @PA_HD_ASSIGNED tinyint = null output, @PA_HD_READ tinyint = null output, @PA_HD_RESOLUTION_ID varchar(11) = null output, @PA_HD_VERSION varchar(40) = null output, @PA_HD_PM_ID varchar(11) = null output, @PA_HD_BUILD_VERSION varchar(20) = null output, @_AUDIT_USER_ID varchar(3) = null) as 
begin
  exec spNextID 20, @PA_HD_ID output
  
  insert into dbo.Helpdesk(
    HD_ID,
    HD_ADD_DATE,
    HD_ADD_BY,
    HD_MOD_DATE,
    HD_MOD_BY,
    HD_RCV_DATE,
    HD_RCV_FROM,
    HD_LOCK,
    HD_ORG_ID,
    HD_ORG_NAME,
    HD_PROLE_ID,
    HD_PN_NAME,
    HD_SERIAL_NO,
    HD_IN_ID,
    HD_PROD_CODE,
    HD_PROD_ID,
    HD_WARR_DATE,
    HD_CONTR_REF,
    HD_CONT_TYPE,
    HD_CONT_DATE,
    HD_GIVEN_TO,
    HD_GIVEN_TO_ID,
    HD_FIXED_DATE,
    HD_FIXED_TIME,
    HD_STATUS,
    HD_DETAILS_ID,
    HD_FIX_ID,
    HD_CATEGORY,
    HD_FIX_CAT,
    HD_CALL_DATE,
    HD_CALL_TIME,
    HD_CALLER_PHONE,
    HD_FAULT_TYPE,
    HD_PROD_NAME,
    HD_SEVERITY,
    HD_PROJ_REF,
    HD_PROJ_ID,
    HD_ACT_ID,
    HD_HISTORY_TXT,
    HD_TITLE,
    HD_CUST_REF,
    HD_CUST_ACPT,
    HD_RPT_DATE,
    HD_TRG_RSP_DATE,
    HD_ACT_RSP_DATE,
    HD_TRG_TPFIX_D,
    HD_ACT_TPFIX_D,
    HD_TRG_ACTFIX_D,
    HD_SUC_ID,
    HD_ACC_DATE,
    HD_RESOLVED_VER,
    HD_EST_TIME,
    HD_TYPE,
    HD_WIP_ID,
    HD_RES_DATE,
    HD_SELCO_SP_ID,
    HD_GROUP,
    HD_ASSIGNED,
    HD_READ,
    HD_RESOLUTION_ID,
    HD_VERSION,
    HD_PM_ID,
    HD_BUILD_VERSION
  ) values (
    @PA_HD_ID,
    getDate(),
    @_AUDIT_USER_ID,
    getDate(),
    @_AUDIT_USER_ID,
    getDate(),
    '',
    @PA_HD_LOCK,
    @PA_HD_ORG_ID,
    @PA_HD_ORG_NAME,
    @PA_HD_PROLE_ID,
    @PA_HD_PN_NAME,
    @PA_HD_SERIAL_NO,
    @PA_HD_IN_ID,
    @PA_HD_PROD_CODE,
    @PA_HD_PROD_ID,
    @PA_HD_WARR_DATE,
    @PA_HD_CONTR_REF,
    @PA_HD_CONT_TYPE,
    @PA_HD_CONT_DATE,
    @PA_HD_GIVEN_TO,
    @PA_HD_GIVEN_TO_ID,
    @PA_HD_FIXED_DATE,
    @PA_HD_FIXED_TIME,
    @PA_HD_STATUS,
    @PA_HD_DETAILS_ID,
    @PA_HD_FIX_ID,
    @PA_HD_CATEGORY,
    @PA_HD_FIX_CAT,
    @PA_HD_CALL_DATE,
    @PA_HD_CALL_TIME,
    @PA_HD_CALLER_PHONE,
    @PA_HD_FAULT_TYPE,
    @PA_HD_PROD_NAME,
    @PA_HD_SEVERITY,
    @PA_HD_PROJ_REF,
    @PA_HD_PROJ_ID,
    @PA_HD_ACT_ID,
    @PA_HD_HISTORY_TXT,
    @PA_HD_TITLE,
    @PA_HD_CUST_REF,
    @PA_HD_CUST_ACPT,
    @PA_HD_RPT_DATE,
    @PA_HD_TRG_RSP_DATE,
    @PA_HD_ACT_RSP_DATE,
    @PA_HD_TRG_TPFIX_D,
    @PA_HD_ACT_TPFIX_D,
    @PA_HD_TRG_ACTFIX_D,
    @PA_HD_SUC_ID,
    @PA_HD_ACC_DATE,
    @PA_HD_RESOLVED_VER,
    @PA_HD_EST_TIME,
    @PA_HD_TYPE,
    @PA_HD_WIP_ID,
    @PA_HD_RES_DATE,
    @PA_HD_SELCO_SP_ID,
    @PA_HD_GROUP,
    @PA_HD_ASSIGNED,
    @PA_HD_READ,
    @PA_HD_RESOLUTION_ID,
    @PA_HD_VERSION,
    @PA_HD_PM_ID,
    @PA_HD_BUILD_VERSION
  );
end
go
