if not exists (select object_id from sys.objects where type = 'P' and name = 'spConsensusFinanceDirectdebitFetchAll')
  exec ('create procedure dbo.spConsensusFinanceDirectdebitFetchAll as select 1 as temp')
go
alter procedure dbo.spConsensusFinanceDirectdebitFetchAll as 
begin
  select 
    DD_ID,
    DD_ADD_DATE,
    DD_ADD_BY,
    DD_MOD_DATE,
    DD_MOD_BY,
    DD_RCV_DATE,
    DD_RCV_FROM,
    DD_TABLE_NUM,
    DD_REC_ID,
    DD_TYPE,
    DD_OIN,
    DD_REC_DATE,
    DD_REC_METHOD,
    DD_TO_BANK_DATE,
    DD_EFFECTIVE_DATE,
    DD_END_DATE,
    DD_STATUS,
    DD_FREQUENCY,
    DD_DAY_OF_MONTH,
    DD_VARIABLE,
    DD_MAX_VALUE,
    DD_CURRENCY_TYPE,
    DD_BANK_NAME,
    DD_BANK_ADD_1,
    DD_BANK_ADD_2,
    DD_BANK_ADD_3,
    DD_BANK_ADD_4,
    DD_BANK_POSTCODE,
    DD_CORE_REF,
    DD_BANK_ACC_NAME,
    DD_BANK_ACC_CODE,
    DD_SORT_CODE,
    DD_CCARD_TYPE,
    DD_NAME_ON_CARD,
    DD_CCARD_NUMBER,
    DD_CCARD_ISSUE,
    DD_CCARD_SEC_ID,
    DD_CCARD_START_MTH,
    DD_CCARD_START_YR,
    DD_CCARD_EXPY_MTH,
    DD_CCARD_EXPY_YR,
    DD_NOTES,
    DD_BANK_ORG_ID,
    DD_BANK_ADD_ID,
    DD_RECORD_STATUS,
    DD_BAT_ID,
    DD_TOTAL,
    DD_STATUS_NOTES,
    DD_STATUS_LAST_DATE,
    DD_STATUS_PREVIOUS,
    DD_NO_OF_INSTALLMENTS,
    DD_DUE_DATE
  from dbo.DirectDebit
end
go
