if not exists (select object_id from sys.objects where type = 'P' and name = 'spConsensusLearningDelegateCreate')
  exec ('create procedure dbo.spConsensusLearningDelegateCreate as select 1 as temp')
go
alter procedure dbo.spConsensusLearningDelegateCreate(@PA_DEL_ID varchar(11) = null output, @PA_DEL_LOCK varchar(10) = null output, @PA_DEL_LINE_NO float = null output, @PA_DEL_BOOK_ID varchar(11) = null output, @PA_DEL_PRODUCT_ID varchar(11) = null output, @PA_DEL_ORG_ID varchar(11) = null output, @PA_DEL_PERSON_ID varchar(11) = null output, @PA_DEL_QUANTITY float = null output, @PA_DEL_LIST_PRICE float = null output, @PA_DEL_DISCOUNT float = null output, @PA_DEL_DISCTD_PRICE float = null output, @PA_DEL_NET_VAL decimal(19, 4) = null output, @PA_DEL_VAT_CODE varchar(25) = null output, @PA_DEL_VAT_RATE decimal(19, 4) = null output, @PA_DEL_VAT_AMT decimal(19, 4) = null output, @PA_DEL_TOT_PRICE decimal(19, 4) = null output, @PA_DEL_UNION_ID varchar(11) = null output, @PA_DEL_TUC_REGION varchar(4) = null output, @PA_DEL_BOOK_APPROVED tinyint = null output, @PA_DEL_BOOK_APPR_BY varchar(11) = null output, @PA_DEL_BOOK_APPR_DATE datetime = null output, @PA_DEL_PACK varchar(8) = null output, @PA_DEL_USERINT_1 tinyint = null output, @PA_DEL_USERINT_2 tinyint = null output, @PA_DEL_USERINT_3 tinyint = null output, @PA_DEL_USERINT_4 tinyint = null output, @PA_DEL_USERINT_5 tinyint = null output, @PA_DEL_USERINT_6 tinyint = null output, @PA_DEL_USERINT_7 tinyint = null output, @PA_DEL_USERINT_8 tinyint = null output, @PA_DEL_USERINT_9 tinyint = null output, @PA_DEL_USERINT_10 tinyint = null output, @PA_DEL_PROLE_ID varchar(11) = null output, @PA_DEL_NOTES_ID varchar(11) = null output, @PA_DEL_WAIT_STATUS varchar(30) = null output, @PA_DEL_NOTES varchar(max) = null output, @PA_DEL_TIME_MVD_CUST tinyint = null output, @PA_DEL_CANCEL_DATE datetime = null output, @PA_DEL_CANCEL_BY varchar(11) = null output, @PA_DEL_REMIND_METHOD varchar(40) = null output, @PA_DEL_REMIND_DATE datetime = null output, @PA_DEL_REMIND_BY varchar(11) = null output, @PA_DEL_CONFIRM_METHOD varchar(40) = null output, @PA_DEL_CONFIRM_DATE datetime = null output, @PA_DEL_CONFIRM_BY varchar(11) = null output, @PA_DEL_DELIV_ADDRESS nvarchar(240) = null output, @PA_DEL_DEL_ID varchar(11) = null output, @PA_DEL_USERCHAR_1 varchar(100) = null output, @PA_DEL_SUB_DEL_ID varchar(11) = null output, @PA_DEL_PAY tinyint = null output, @PA_DEL_PAY2 tinyint = null output, @PA_DEL_TRN_ID varchar(11) = null output, @PA_DEL_COURSE_ID varchar(11) = null output, @PA_DEL_BUD_VAL decimal(36, 2) = null output, @PA_DEL_BUDC_ID varchar(11) = null output, @PA_DEL_BUD_COST_ID varchar(11) = null output, @PA_DEL_WAIT_PROD_ID varchar(11) = null output, @PA_DEL_WAIT_DATE datetime = null output, @PA_DEL_TEAM varchar(50) = null output, @PA_DEL_SPEC_REQ varchar(255) = null output, @PA_DEL_BAT_ID varchar(11) = null output, @PA_DEL_BADGE_NAME nvarchar(410) = null output, @PA_DEL_TOT_TKT_PNTS integer = null output, @PA_DEL_TCK_DEL_ID varchar(11) = null output, @PA_DEL_COURSE_NAME nvarchar(250) = null output, @PA_DEL_COURSE_ST_DATE datetime = null output, @PA_DEL_PASS tinyint = null output, @PA_DEL_MEP_ID varchar(11) = null output, @PA_DEL_PRICE_CALC varchar(max) = null output, @PA_DEL_DEPOS_VAL decimal(19, 2) = null output, @PA_DEL_DEPOS_VAL_BC decimal(19, 2) = null output, @PA_DEL_DEPOS_VAL_BC2 decimal(19, 2) = null output, @PA_DEL_ALT_PHONE varchar(25) = null output, @PA_DEL_ATTRIB01 varchar(250) = null output, @PA_DEL_ATTRIB02 tinyint = null output, @PA_DEL_ATTRIB03 tinyint = null output, @PA_DEL_ATTRIB04 tinyint = null output, @PA_DEL_ATTRIB05 varchar(20) = null output, @PA_DEL_ATTRIB06 varchar(20) = null output, @PA_DEL_ATTRIB07 tinyint = null output, @PA_DEL_ATTRIB08 tinyint = null output, @PA_DEL_ATTRIB09 varchar(20) = null output, @PA_DEL_ATTRIB10 varchar(20) = null output, @PA_DEL_ATTRIB11 varchar(25) = null output, @PA_DEL_DEPOS_UNPAID decimal(19, 2) = null output, @PA_DEL_DEPOS_UNPAID_BC decimal(19, 2) = null output, @PA_DEL_DEPOS_UNPAID_BC2 decimal(19, 2) = null output, @PA_DEL_START_DATE datetime = null output, @PA_DEL_END_DATE datetime = null output, @PA_DEL_DONOT_REPRICE tinyint = null output, @PA_DEL_DD_PAYMENT_STAT varchar(50) = null output, @PA_DEL_CANC_REASON varchar(50) = null output, @PA_DEL_DEPOS_CHG_REASON varchar(50) = null output, @PA_DEL_DOC_RECIPIENT varchar(11) = null output, @PA_DEL_ATTRIB12 tinyint = null output, @PA_DEL_NOTES2 varchar(max) = null output, @PA_DEL_DOC_RECIPIENT_EMAIL varchar(240) = null output, @PA_DEL_ETT_ID varchar(11) = null output, @PA_DEL_TRANSFER_COUNT integer = null output, @PA_DEL_SUBSTITUTE_COUNT integer = null output, @PA_DEL_TRANSFER_DEL_ID varchar(11) = null output, @PA_DEL_DIET_REQUIRE varchar(50) = null output, @PA_DEL_ATTRIB13 varchar(11) = null output, @PA_DEL_SURNAME varchar(150) = null output, @PA_DEL_INITIAL varchar(7) = null output, @PA_DEL_MEM_REF varchar(25) = null output, @PA_DEL_ADD_POSTCODE varchar(12) = null output, @PA_DEL_ADD_ID varchar(11) = null output, @PA_DEL_WAIT_PRIORITY varchar(40) = null output, @PA_DEL_TBA_GENDER varchar(2) = null output, @PA_DEL_TBA_NATIONALITY varchar(40) = null output, @PA_DEL_TBA_ETHNICITY varchar(50) = null output, @PA_DEL_CANCEL_REF varchar(20) = null output, @PA_DEL_SHARE_DETAILS tinyint = null output, @PA_DEL_AUTH_STATUS integer = null output, @PA_DEL_MEDICAL_DET varchar(100) = null output, @PA_DEL_DELIV_COUNTRY_ID varchar(11) = null output, @PA_DEL_DELIV_FAO nvarchar(410) = null output, @PA_DEL_DELIV_PHONE varchar(25) = null output, @PA_DEL_SELCO_SP_ID varchar(11) = null output, @PA_DEL_USERCHAR_2 varchar(100) = null output, @PA_DEL_EXCL_TOKEN tinyint = null output, @PA_DEL_FIRST_NAME varchar(150) = null output, @PA_DEL_NI_NUMBER varchar(10) = null output, @PA_DEL_UNIQUE_REF varchar(255) = null output, @_AUDIT_USER_ID varchar(3) = null) as 
begin
  exec spNextID 37, @PA_DEL_ID output
  
  insert into dbo.Delegate(
    DEL_ID,
    DEL_ADD_DATE,
    DEL_ADD_BY,
    DEL_MOD_DATE,
    DEL_MOD_BY,
    DEL_RCV_DATE,
    DEL_RCV_FROM,
    DEL_LOCK,
    DEL_LINE_NO,
    DEL_BOOK_ID,
    DEL_PRODUCT_ID,
    DEL_ORG_ID,
    DEL_PERSON_ID,
    DEL_QUANTITY,
    DEL_LIST_PRICE,
    DEL_DISCOUNT,
    DEL_DISCTD_PRICE,
    DEL_NET_VAL,
    DEL_VAT_CODE,
    DEL_VAT_RATE,
    DEL_VAT_AMT,
    DEL_TOT_PRICE,
    DEL_UNION_ID,
    DEL_TUC_REGION,
    DEL_BOOK_APPROVED,
    DEL_BOOK_APPR_BY,
    DEL_BOOK_APPR_DATE,
    DEL_PACK,
    DEL_USERINT_1,
    DEL_USERINT_2,
    DEL_USERINT_3,
    DEL_USERINT_4,
    DEL_USERINT_5,
    DEL_USERINT_6,
    DEL_USERINT_7,
    DEL_USERINT_8,
    DEL_USERINT_9,
    DEL_USERINT_10,
    DEL_PROLE_ID,
    DEL_NOTES_ID,
    DEL_WAIT_STATUS,
    DEL_NOTES,
    DEL_TIME_MVD_CUST,
    DEL_CANCEL_DATE,
    DEL_CANCEL_BY,
    DEL_REMIND_METHOD,
    DEL_REMIND_DATE,
    DEL_REMIND_BY,
    DEL_CONFIRM_METHOD,
    DEL_CONFIRM_DATE,
    DEL_CONFIRM_BY,
    DEL_DELIV_ADDRESS,
    DEL_DEL_ID,
    DEL_USERCHAR_1,
    DEL_SUB_DEL_ID,
    DEL_PAY,
    DEL_PAY2,
    DEL_TRN_ID,
    DEL_COURSE_ID,
    DEL_BUD_VAL,
    DEL_BUDC_ID,
    DEL_BUD_COST_ID,
    DEL_WAIT_PROD_ID,
    DEL_WAIT_DATE,
    DEL_TEAM,
    DEL_SPEC_REQ,
    DEL_BAT_ID,
    DEL_BADGE_NAME,
    DEL_TOT_TKT_PNTS,
    DEL_TCK_DEL_ID,
    DEL_COURSE_NAME,
    DEL_COURSE_ST_DATE,
    DEL_PASS,
    DEL_MEP_ID,
    DEL_PRICE_CALC,
    DEL_DEPOS_VAL,
    DEL_DEPOS_VAL_BC,
    DEL_DEPOS_VAL_BC2,
    DEL_ALT_PHONE,
    DEL_ATTRIB01,
    DEL_ATTRIB02,
    DEL_ATTRIB03,
    DEL_ATTRIB04,
    DEL_ATTRIB05,
    DEL_ATTRIB06,
    DEL_ATTRIB07,
    DEL_ATTRIB08,
    DEL_ATTRIB09,
    DEL_ATTRIB10,
    DEL_ATTRIB11,
    DEL_DEPOS_UNPAID,
    DEL_DEPOS_UNPAID_BC,
    DEL_DEPOS_UNPAID_BC2,
    DEL_START_DATE,
    DEL_END_DATE,
    DEL_DONOT_REPRICE,
    DEL_DD_PAYMENT_STAT,
    DEL_CANC_REASON,
    DEL_DEPOS_CHG_REASON,
    DEL_DOC_RECIPIENT,
    DEL_ATTRIB12,
    DEL_NOTES2,
    DEL_DOC_RECIPIENT_EMAIL,
    DEL_ETT_ID,
    DEL_TRANSFER_COUNT,
    DEL_SUBSTITUTE_COUNT,
    DEL_TRANSFER_DEL_ID,
    DEL_DIET_REQUIRE,
    DEL_ATTRIB13,
    DEL_SURNAME,
    DEL_INITIAL,
    DEL_MEM_REF,
    DEL_ADD_POSTCODE,
    DEL_ADD_ID,
    DEL_WAIT_PRIORITY,
    DEL_TBA_GENDER,
    DEL_TBA_NATIONALITY,
    DEL_TBA_ETHNICITY,
    DEL_CANCEL_REF,
    DEL_SHARE_DETAILS,
    DEL_AUTH_STATUS,
    DEL_MEDICAL_DET,
    DEL_DELIV_COUNTRY_ID,
    DEL_DELIV_FAO,
    DEL_DELIV_PHONE,
    DEL_SELCO_SP_ID,
    DEL_USERCHAR_2,
    DEL_EXCL_TOKEN,
    DEL_FIRST_NAME,
    DEL_NI_NUMBER,
    DEL_UNIQUE_REF
  ) values (
    @PA_DEL_ID,
    getDate(),
    @_AUDIT_USER_ID,
    getDate(),
    @_AUDIT_USER_ID,
    getDate(),
    '',
    @PA_DEL_LOCK,
    @PA_DEL_LINE_NO,
    @PA_DEL_BOOK_ID,
    @PA_DEL_PRODUCT_ID,
    @PA_DEL_ORG_ID,
    @PA_DEL_PERSON_ID,
    @PA_DEL_QUANTITY,
    @PA_DEL_LIST_PRICE,
    @PA_DEL_DISCOUNT,
    @PA_DEL_DISCTD_PRICE,
    @PA_DEL_NET_VAL,
    @PA_DEL_VAT_CODE,
    @PA_DEL_VAT_RATE,
    @PA_DEL_VAT_AMT,
    @PA_DEL_TOT_PRICE,
    @PA_DEL_UNION_ID,
    @PA_DEL_TUC_REGION,
    @PA_DEL_BOOK_APPROVED,
    @PA_DEL_BOOK_APPR_BY,
    @PA_DEL_BOOK_APPR_DATE,
    @PA_DEL_PACK,
    @PA_DEL_USERINT_1,
    @PA_DEL_USERINT_2,
    @PA_DEL_USERINT_3,
    @PA_DEL_USERINT_4,
    @PA_DEL_USERINT_5,
    @PA_DEL_USERINT_6,
    @PA_DEL_USERINT_7,
    @PA_DEL_USERINT_8,
    @PA_DEL_USERINT_9,
    @PA_DEL_USERINT_10,
    @PA_DEL_PROLE_ID,
    @PA_DEL_NOTES_ID,
    @PA_DEL_WAIT_STATUS,
    @PA_DEL_NOTES,
    @PA_DEL_TIME_MVD_CUST,
    @PA_DEL_CANCEL_DATE,
    @PA_DEL_CANCEL_BY,
    @PA_DEL_REMIND_METHOD,
    @PA_DEL_REMIND_DATE,
    @PA_DEL_REMIND_BY,
    @PA_DEL_CONFIRM_METHOD,
    @PA_DEL_CONFIRM_DATE,
    @PA_DEL_CONFIRM_BY,
    @PA_DEL_DELIV_ADDRESS,
    @PA_DEL_DEL_ID,
    @PA_DEL_USERCHAR_1,
    @PA_DEL_SUB_DEL_ID,
    @PA_DEL_PAY,
    @PA_DEL_PAY2,
    @PA_DEL_TRN_ID,
    @PA_DEL_COURSE_ID,
    @PA_DEL_BUD_VAL,
    @PA_DEL_BUDC_ID,
    @PA_DEL_BUD_COST_ID,
    @PA_DEL_WAIT_PROD_ID,
    @PA_DEL_WAIT_DATE,
    @PA_DEL_TEAM,
    @PA_DEL_SPEC_REQ,
    @PA_DEL_BAT_ID,
    @PA_DEL_BADGE_NAME,
    @PA_DEL_TOT_TKT_PNTS,
    @PA_DEL_TCK_DEL_ID,
    @PA_DEL_COURSE_NAME,
    @PA_DEL_COURSE_ST_DATE,
    @PA_DEL_PASS,
    @PA_DEL_MEP_ID,
    @PA_DEL_PRICE_CALC,
    @PA_DEL_DEPOS_VAL,
    @PA_DEL_DEPOS_VAL_BC,
    @PA_DEL_DEPOS_VAL_BC2,
    @PA_DEL_ALT_PHONE,
    @PA_DEL_ATTRIB01,
    @PA_DEL_ATTRIB02,
    @PA_DEL_ATTRIB03,
    @PA_DEL_ATTRIB04,
    @PA_DEL_ATTRIB05,
    @PA_DEL_ATTRIB06,
    @PA_DEL_ATTRIB07,
    @PA_DEL_ATTRIB08,
    @PA_DEL_ATTRIB09,
    @PA_DEL_ATTRIB10,
    @PA_DEL_ATTRIB11,
    @PA_DEL_DEPOS_UNPAID,
    @PA_DEL_DEPOS_UNPAID_BC,
    @PA_DEL_DEPOS_UNPAID_BC2,
    @PA_DEL_START_DATE,
    @PA_DEL_END_DATE,
    @PA_DEL_DONOT_REPRICE,
    @PA_DEL_DD_PAYMENT_STAT,
    @PA_DEL_CANC_REASON,
    @PA_DEL_DEPOS_CHG_REASON,
    @PA_DEL_DOC_RECIPIENT,
    @PA_DEL_ATTRIB12,
    @PA_DEL_NOTES2,
    @PA_DEL_DOC_RECIPIENT_EMAIL,
    @PA_DEL_ETT_ID,
    @PA_DEL_TRANSFER_COUNT,
    @PA_DEL_SUBSTITUTE_COUNT,
    @PA_DEL_TRANSFER_DEL_ID,
    @PA_DEL_DIET_REQUIRE,
    @PA_DEL_ATTRIB13,
    @PA_DEL_SURNAME,
    @PA_DEL_INITIAL,
    @PA_DEL_MEM_REF,
    @PA_DEL_ADD_POSTCODE,
    @PA_DEL_ADD_ID,
    @PA_DEL_WAIT_PRIORITY,
    @PA_DEL_TBA_GENDER,
    @PA_DEL_TBA_NATIONALITY,
    @PA_DEL_TBA_ETHNICITY,
    @PA_DEL_CANCEL_REF,
    @PA_DEL_SHARE_DETAILS,
    @PA_DEL_AUTH_STATUS,
    @PA_DEL_MEDICAL_DET,
    @PA_DEL_DELIV_COUNTRY_ID,
    @PA_DEL_DELIV_FAO,
    @PA_DEL_DELIV_PHONE,
    @PA_DEL_SELCO_SP_ID,
    @PA_DEL_USERCHAR_2,
    @PA_DEL_EXCL_TOKEN,
    @PA_DEL_FIRST_NAME,
    @PA_DEL_NI_NUMBER,
    @PA_DEL_UNIQUE_REF
  );
end
go
