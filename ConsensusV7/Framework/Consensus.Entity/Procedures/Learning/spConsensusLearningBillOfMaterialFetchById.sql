if not exists (select object_id from sys.objects where type = 'P' and name = 'spConsensusLearningBillOfMaterialFetchById')
  exec ('create procedure dbo.spConsensusLearningBillOfMaterialFetchById as select 1 as temp')
go
alter procedure dbo.spConsensusLearningBillOfMaterialFetchById(@PA_BOM_ID varchar(11) = null output) as 
begin
  select 
    BOM_ID,
    BOM_LOCK,
    BOM_ADD_DATE,
    BOM_ADD_BY,
    BOM_MOD_DATE,
    BOM_MOD_BY,
    BOM_RCV_DATE,
    BOM_RCV_FROM,
    BOM_PARENT_ID,
    BOM_SYLLABUS_ID,
    BOM_LOCATION_ID,
    BOM_RESOURCE_ID,
    BOM_TYPE,
    BOM_REAL,
    BOM_SESSION,
    BOM_ELEMENT,
    BOM_START_DAY,
    BOM_END_DAY,
    BOM_START_TIME,
    BOM_END_TIME,
    BOM_QUANTITY,
    BOM_MANDATORY,
    BOM_STREAM,
    BOM_CHARGEABLE,
    BOM_INVOICE_PRINT,
    BOM_ACT_TYPE,
    BOM_SHOW_SALES,
    BOM_ACT_NOTE,
    BOM_SUBJECT,
    BOM_VAL_TO_REV,
    BOM_MAIN_SESSION,
    BOM_TYPE_SUB,
    BOM_ROOM_LAYOUT,
    BOM_INC_IN_BUDGET,
    BOM_TEACH_HRS,
    BOM_STUD_WKS,
    BOM_NOTINUSE_START,
    BOM_NOTINUSE_END,
    BOM_ACT_SESSION_NAME,
    BOM_NO_SLOTS,
    BOM_START_SLOT,
    BOM_PREDELIV,
    BOM_CODE,
    BOM_PROV_PACK,
    BOM_CONF_PACK,
    BOM_JOINING_PACK,
    BOM_POST_PACK,
    BOM_PROV_SEND_TO_BOOK,
    BOM_PROV_SEND_TO_DEL,
    BOM_CONF_SEND_TO_BOOK,
    BOM_CONF_SEND_TO_DEL,
    BOM_JOINING_SEND_TO_BOOK,
    BOM_JOINING_SEND_TO_DEL,
    BOM_POST_SEND_TO_BOOK,
    BOM_POST_SEND_TO_DEL,
    BOM_PSG_ID,
    BOM_ACT_REVENUE_SPLIT,
    BOM_ACT_HOURS_SPLIT,
    BOM_EXP_OCCUPANCY,
    BOM_SHOW_ATT_LOG
  from dbo.Bill_Of_Material
  where BOM_ID = @PA_BOM_ID
end
go
