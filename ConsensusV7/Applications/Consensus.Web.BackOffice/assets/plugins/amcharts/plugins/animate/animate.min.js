(function(){"use strict";function p(n,t,i){return n*(i-t)+t}function w(n){var t=1-n;return t*=t*t*t,1-t}function o(n,t,i,r){this._object=n;this._key=t;this._from=i;this._to=r}function t(n,t,i,r,u){this._finished=!1;this._startTime=null;this._duration=n;this._easing=t==null?w:t;this._onComplete=i;this._tweens=r;this._chart=u}function i(){this._animating=!1;this._animations=[];this._onBeforeFrames=[];this._onAfterFrames=[];var n=this;this._raf=function(t){n._onFrame(t)}}function b(n){return n!==n}function n(n,t){for(var i=0;i<n.length;++i)t(n[i])}function k(n,t){for(var i=0;i<n.length;++i)if(n[i]===t)return;n.push(t)}function d(n,t,i){t[i]||(t[i]=!0,n.push(i))}function u(t,i,r,u){n(u,function(n){var u=r[n];u!=null&&d(t,i,u)})}function a(n,t,i){u(t,i,n,["alphaField","valueField"])}function g(n,t,i){a(n,t,i)}function nt(n,t,i){a(n,t,i);u(t,i,n,["labelRadiusField"])}function h(n,t,i){u(t,i,n,["alphaField","bulletSizeField","closeField","dashLengthField","errorField","highField","lowField","openField","valueField"])}function tt(n,t,i){h(n,t,i);u(t,i,n,["xField","yField"])}function c(t,i,r,u){n(t,function(n){u(n,i,r)})}function it(n,t,i){u(t,i,n,["widthField"])}function v(n){var t=[],i={};return n.type==="funnel"?g(n,t,i):n.type==="pie"?nt(n,t,i):n.type==="serial"?(it(n.categoryAxis,t,i),c(n.graphs,t,i,h)):n.type==="radar"?c(n.graphs,t,i,h):n.type==="xy"&&c(n.graphs,t,i,tt),t}function rt(t){var i={};return(t.type==="serial"||t.type==="radar"||t.type==="xy")&&n(t.valueAxes,function(n){i[n.id]==null&&(i[n.id]={minimum:n.minimum,maximum:n.maximum},n.minimum==null&&(n.minimum=n.min),n.maximum==null&&(n.maximum=n.max))}),i}function ut(t,i){(t.type==="serial"||t.type==="radar"||t.type==="xy")&&n(t.valueAxes,function(n){var t=i[n.id];t!=null&&(t.minimum==null&&delete n.minimum,t.maximum==null&&delete n.maximum)})}function ft(n){return n.type==="funnel"||n.type==="pie"?n.titleField:n.type==="serial"||n.type==="radar"?n.categoryField:void 0}function e(n,t){var i=n[t];return i==null?null:(i=+i,b(i)?null:i)}function y(n,t){var i=n[t];return i==null?null:""+i}function et(t,i){var r={};return n(t,function(n){var t=y(n,i);t!=null&&(r[t]=n)}),r}function ot(t,i,r,u){var f=[];return n(t,function(t){var s=y(t,i),h;s!=null&&s in r&&(h=r[s],n(u,function(n){var i=e(h,n),r=e(t,n);i!=null&&r!=null&&f.push(new o(t,n,i,r))}))}),f}function st(t,i,r){for(var h,f,s=[],c=Math.min(t.length,i.length),u=0;u<c;++u)h=t[u],f=i[u],n(r,function(n){var t=e(h,n),i=e(f,n);t!=null&&i!=null&&s.push(new o(f,n,t,i))});return s}function ht(n,t){var i;if(n.type==="xy")return i=v(n),st(n.dataProvider,t,i);var r=ft(n),i=v(n),u=et(n.dataProvider,r);return ot(t,r,u,i)}function ct(n,i){function o(){ut(r,e);i.complete!=null&&i.complete()}var r=this,f=ht(r,n),e=rt(r),u;return r.dataProvider=n,u=new t(i.duration,i.easing,o,f,r),s.animate(u),u}var l,f,s,r;typeof requestAnimationFrame=="undefined"?(l=1e3/60,f=function(n){setTimeout(function(){n((new Date).getTime())},l)}):f=requestAnimationFrame;o.prototype.interpolate=function(n){this._object[this._key]=p(n,this._from,this._to)};t.prototype.cancel=function(){this._finished=!0;this._startTime=null;this._duration=null;this._easing=null;this._onComplete=null;this._tweens=null;this._chart=null};t.prototype._onFrame=function(n){if(this._finished)return!0;if(this._startTime===null)return this._startTime=n,!1;var t=n-this._startTime;return t<this._duration?(this._tick(t/this._duration),!1):(this._end(1),this.cancel(),!0)};t.prototype._tick=function(n){var i,t;for(n=this._easing(n),i=this._tweens,t=0;t<i.length;++t)i[t].interpolate(n);k(r,this._chart)};t.prototype._end=function(n){this._tick(n);this._onComplete()};i.prototype.animate=function(n){this._animations.push(n);this._animating||(this._animating=!0,f(this._raf))};i.prototype.onBeforeFrame=function(n){this._onBeforeFrames.push(n)};i.prototype.onAfterFrame=function(n){this._onAfterFrames.push(n)};i.prototype._onFrame=function(n){for(var i,e,r,u=this._onBeforeFrames,t=0;t<u.length;++t)u[t](n);for(i=this._animations,t=0;t<i.length;++t)e=i[t],e._onFrame(n)&&(i.splice(t,1),--t);for(r=this._onAfterFrames,t=0;t<r.length;++t)r[t](n);i.length===0?this._animating=!1:f(this._raf)};s=new i;r=[];s.onAfterFrame(function(){for(var n=0;n<r.length;++n)r[n].validateData();r.length=0});AmCharts.addInitHandler(function(n){n.animateData=ct},["funnel","pie","serial","radar","xy"])})();
//# sourceMappingURL=animate.min.js.map
